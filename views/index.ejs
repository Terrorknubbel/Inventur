<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.1/semantic.min.css">
    <link rel="stylesheet" href="assets/dataTables.semanticui.min.css">
    <link rel="stylesheet" href="assets/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&family=Open+Sans+Condensed:wght@300&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="shortcut icon" href="assets/favicon.jpg" />

    <title>Document</title>
</head>

<body>
    <%- include('navbar'); %>

    <div id="tableDiv">

        <table id="table" class="ui celled table display" style="width:100%">
            <thead>
                <tr>
                    <th style="display:none"></th>
                    <th>Artikel</th>
                    <th>Anzahl</th>
                    <th>Mindestanzahl</th>
                    <th>Ort</th>
                    <th>Kategorie</th>
                    <th>Erstellt von</th>
                    <th>Zuletzt geändert von</th>
                    <th>Änderungsdatum</th>
                    <th>Änderungsuhrzeit</th>
                    <th>Stichwörter</th>
                    <th>Logs</th>
                </tr>
            </thead>
            <tbody id="dataTbody">
                <% for(var i=0; i < dbres.length; i++){ %>
                <tr>
                    <td style="display:none">
                        <%= dbres[i].id %>
                    </td>
                    <td>
                        <%= dbres[i].name %>
                    </td>
                    <td>
                        <%= dbres[i].number %>
                    </td>
                    <td>
                        <%= dbres[i].minimum_number %>
                    </td>
                    <td>
                        <%= dbres[i].location %>
                    </td>
                    <td>
                        <%= dbres[i].category %>
                    </td>
                    <td>
                        <%= dbres[i].creator %>
                    </td>
                    <td>
                        <%= dbres[i].change_by %>
                    </td>
                    <td>
                        <%= dbres[i].date %>
                    </td>
                    <td>
                        <%= dbres[i].time %>
                    </td>
                    <td>
                        <%= dbres[i].keywords %>
                    </td>
                    <td>
                        <img class="log" src="assets/iconfinder_link.svg" alt="" title="Zu den Logs..">
                    </td>
                </tr>
                <% } %>
            <tfoot>
                <tr id='inputTr'>
                    <th style="display:none">Id</th>
                    <th><input type="text" placeholder="Suche Artikel"></th>
                    <th><input type="text" placeholder="Suche Anzahl"></th>
                    <th><input type="text" placeholder="Suche Mindestanzahl"></th>
                    <th><input type="text" placeholder="Suche Ort"></th>
                    <th><input type="text" placeholder="Suche Kategorie"></th>
                    <th><input type="text" placeholder="Suche Erstellt von"></th>
                    <th><input type="text" placeholder="Suche Zuletzt geändert von"></th>
                    <th><input type="text" placeholder="Suche Änderungsdatum"></th>
                    <th><input type="text" placeholder="Suche Änderungsuhrzeit"></th>
                    <th><input type="text" placeholder="Suche Stichwörter"></th>
                    <th></th>
                </tr>
            </tfoot>
            </tbody>
        </table>
    </div>

    <div id="PopUp">
        <form id="createForm" action="/create" method="post">

            <div class="PopUp_topBar">
                Neuen Artikel anlegen
                <span>x</span>
            </div>
            <div class="PopUp_middle">
                <table>
                    <tr>
                        <td>Artikel:</td>
                        <td><input autocomplete="off" type="text" id="name" name="name" maxlength="20" required></td>
                        <td></td>
                        <td>Ort:</td>
                        <td>
                            <!-- <input type="text" id="location" name="location" maxlength="20" required> -->
                            <select name="location" id="location" required
                                oninvalid="this.setCustomValidity('Wählen Sie bitte einen Ort aus.\n Sie müssen diese vorher in den Stammdaten eintragen')">
                                <% for(var i=0; i < stammdaten.ort.length; i++){ %>
                                <option name="<%= stammdaten.ort[i].ort; %>" value="<%= stammdaten.ort[i].ort; %>">
                                    <%= stammdaten.ort[i].ort; %>
                                </option>
                                <% } %>
                            </select>
                            <a href="/stammdaten" style="margin-left: 5px">
                                <img class="linkStammdaten" src="assets/iconfinder_link.svg" alt=""
                                    title="Zu den Stammdaten.." onclick="">
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td>Anzahl:</td>
                        <td><input type="text" id="number" name="number" maxlength="10" required></td>
                        <td></td>
                        <td>Mindestanzahl:</td>
                        <td><input type="text" id="minimum_number" name="minimum_number" maxlength="10" required></td>
                    </tr>
                    <tr>
                        <td>Kategorie:</td>
                        <td>
                            <!-- <input type="text" id="category" name="category" maxlength="20" required> -->
                            <select name="category" id="category" required>
                                <% for(var i=0; i < stammdaten.kategorie.length; i++){ %>
                                <option name="<%= stammdaten.kategorie[i].kategorie; %>"
                                    value="<%= stammdaten.kategorie[i].kategorie; %>">
                                    <%= stammdaten.kategorie[i].kategorie; %>
                                </option>
                                <% } %>
                            </select>
                            <a href="/stammdaten">
                                <img class="linkStammdaten" src="assets/iconfinder_link.svg" alt=""
                                    title="Zu den Stammdaten..">
                            </a>
                        </td>
                        <td></td>
                        <td>Stichwörter:</td>
                        <td>
                            <!-- <textarea style="resize: none;" name="keywords" maxlength="100" required id="keywords"
                                cols="23" rows="4" placeholder="Stichwort1, Stichwort2, ..."></textarea> -->
                            <div id="keyDiv">
                                <input type="text" name="" placeholder="" required id="keywords">
                            </div>
                            <a href="/stammdaten" style="float: right">
                                <img class="linkStammdaten" src="assets/iconfinder_link.svg" alt=""
                                    title="Zu den Stammdaten..">
                            </a>
                        </td>
                    </tr>

                </table>
            </div>
            <div class="PopUp_footer">
                <button type="submit" id="CreateSubmit">Speichern</button>
            </div>
        </form>
    </div>

    <div id="PopUpUpdate">
        <form id="updateForm" action="/entry">

            <div class="PopUp_topBar">
                Artikel bearbeiten
                <span>x</span>
            </div>
            <div class="PopUp_middle">
                <table>
                    <tr>
                        <td>Artikel:</td>
                        <td><input autocomplete="off" type="text" id="name_update" maxlength="20" name="name" required>
                        </td>
                        <td></td>
                        <td>Ort:</td>
                        <td>
                            <!-- <input type="text" id="location_update" maxlength="20" name="location" required> -->
                            <select name="location" id="location_update" required>
                                <% for(var i=0; i < stammdaten.ort.length; i++){ %>
                                <option name="<%= stammdaten.ort[i].ort; %>" value="<%= stammdaten.ort[i].ort; %>">
                                    <%= stammdaten.ort[i].ort; %>
                                </option>
                                <% } %>
                            </select>
                            <a href="/stammdaten">
                                <img class="linkStammdaten" src="assets/iconfinder_link.svg" alt=""
                                    title="Zu den Stammdaten..">
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td>Anzahl:</td>
                        <td>
                            <input type="text" id="number_update" maxlength="10" name="number" required><br>
                            <button class="numberButton">-10</button>
                            <button class="numberButton">-1</button>
                            <button class="numberButton">+1</button>
                            <button class="numberButton">+10</button>
                        </td>
                        <td></td>
                        <td>Mindestanzahl:</td>
                        <td><input type="text" id="minimum_number_update" maxlength="10" name="minimum_number" required>
                        </td>
                    </tr>
                    <tr>
                        <td>Kategorie:</td>
                        <td>
                            <!-- <input type="text" id="category_update" name="category" maxlength="20" required> -->
                            <select name="category" id="category_update" required>
                                <% for(var i=0; i < stammdaten.kategorie.length; i++){ %>
                                <option name="<%= stammdaten.kategorie[i].kategorie; %>"
                                    value="<%= stammdaten.kategorie[i].kategorie; %>">
                                    <%= stammdaten.kategorie[i].kategorie; %>
                                </option>
                                <% } %>
                            </select>
                            <a href="/stammdaten">
                                <img class="linkStammdaten" src="assets/iconfinder_link.svg" alt=""
                                    title="Zu den Stammdaten..">
                            </a>
                        </td>
                        <td></td>
                        <td>Stichwörter:</td>
                        <td>
                            <div id="keyDiv_update">
                                <input type="text" name="" placeholder="" required id="keywords_update">
                            </div>
                            <a href="/stammdaten" style="float: right">
                                <img class="linkStammdaten" src="assets/iconfinder_link.svg" alt=""
                                    title="Zu den Stammdaten..">
                            </a>
                        </td>
                    </tr>

                </table>
            </div>
            <div class="PopUp_footer">
                <button type="submit" id="UpdateSubmit">Aktualisieren</button>
            </div>
        </form>
    </div>

    <div id="PopUpDelete">
        <form id="deleteForm" action="/entry">

            <div class="PopUp_topBar">
                Eintrag Löschen
                <span>x</span>
            </div>
            <div class="PopUpDelete_middle">

            </div>
            <div class="PopUp_footer">
                <button type="submit">Löschen</button>
            </div>
        </form>
    </div>

    <div id="cover"></div>

    <footer>

    </footer>

    <%- include('scripts'); %>

</body>

</html>